// Notification related models
model Notification {
  id        String    @id @default(uuid(7))
  title     String
  message   String
  metadata  Json?
  createdAt DateTime  @default(now()) @map("created_at")
  deletedAt DateTime?

  recipients NotificationRecipient[]

  @@map("notifications")
}

model NotificationRecipient {
  id             String    @id @default(uuid(7))
  notificationId String    @map("notification_id")
  userId         String    @map("user_id")
  isRead         Boolean   @default(false) @map("is_read")
  readAt         DateTime? @map("read_at")
  createdAt      DateTime  @default(now()) @map("created_at")
  deletedAt      DateTime?

  notification Notification @relation(fields: [notificationId], references: [id], onDelete: Cascade)
  user         User         @relation(fields: [userId], references: [id])

  @@unique([notificationId, userId])
  @@map("notification_recipients")
}
